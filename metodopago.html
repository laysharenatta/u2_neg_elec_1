<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/honeypop.webp" />
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <title>Honey Pop - Postres deliciosos</title>
  <link href="https://fonts.googleapis.com/css2?family=Homemade+Apple&family=Pacifico&display=swap" rel="stylesheet" />
  <style>
    :root{
      --accent:#ff6b81;
      --muted:#6b7280;
    }
    body{font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial}
    .brand {font-family: 'Pacifico', cursive}
    .hand {font-family: 'Homemade Apple', cursive}
  </style>
</head>

<body class="bg-gray-50 min-h-screen">
  <header class="bg-white shadow-sm">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <img src="/honeypop.webp" alt="Honey Pop" class="w-12 h-12 rounded-lg object-cover shadow-sm" />
        <div>
          <h1 class="text-2xl brand text-rose-600">Honey Pop</h1>
          <p class="text-sm text-gray-500">Postres deliciosos — carrito de compra</p>
        </div>
      </div>
      <nav class="flex items-center gap-4">
        <a class="text-sm text-gray-600 hover:text-rose-600" href="#">Inicio</a>
        <a class="text-sm text-gray-600 hover:text-rose-600" href="#">Postres</a>
        <a class="text-sm text-gray-600 hover:text-rose-600" href="#checkout">Pagar</a>
      </nav>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 py-8 grid grid-cols-1 lg:grid-cols-3 gap-8">
    <!-- Left: Productos -->
    <section class="lg:col-span-2">
      <h2 class="text-xl font-semibold mb-4">Tu carrito</h2>

      <div id="cart" class="space-y-4">
        <!-- Product item (sample) -->
        <div class="bg-white p-4 rounded-lg shadow-sm flex items-center gap-4">
          <img src=miniHokeisZoomed.webp alt="Mini Hokei" class="w-28 h-20 object-cover rounded" />
          <div class="flex-1">
            <h3 class="font-medium">Mini Hokeis</h3>
            <p class="text-sm text-gray-500">Chocolate con chispas</p>
            <div class="mt-2 flex items-center gap-3">
              <label class="text-sm text-gray-600">Cantidad</label>
              <input type="number" min="1" value="2" class="w-20 border rounded px-2 py-1 text-sm" id="qty-1" />
            </div>
          </div>
          <div class="text-right">
            <div class="text-sm text-gray-500">Precio unitario</div>
            <div class="text-lg font-semibold">$70.00 MXN</div>
            <button onclick="removeItem(this)" class="mt-3 text-xs text-red-500">Eliminar</button>
          </div>
        </div>

        <div class="bg-white p-4 rounded-lg shadow-sm flex items-center gap-4">
          <img src=fresasPop1.webp alt="Fresas Pop" class="w-28 h-20 object-cover rounded" />
          <div class="flex-1">
            <h3 class="font-medium">Fresas Pop</h3>
            <p class="text-sm text-gray-500">Nutella, nuez y mazapán</p>
            <div class="mt-2 flex items-center gap-3">
              <label class="text-sm text-gray-600">Cantidad</label>
              <input type="number" min="1" value="1" class="w-20 border rounded px-2 py-1 text-sm" id="qty-2" />
            </div>
          </div>
          <div class="text-right">
            <div class="text-sm text-gray-500">Precio unitario</div>
            <div class="text-lg font-semibold">$70.00 MXN</div>
            <button onclick="removeItem(this)" class="mt-3 text-xs text-red-500">Eliminar</button>
          </div>
        </div>

      </div>

      <div class="mt-6 bg-white p-4 rounded-lg shadow-sm">
        <h3 class="font-semibold mb-2">Resumen de compra</h3>
        <div class="flex justify-between text-sm text-gray-600"><span>Subtotal</span><span id="subtotal">$185.00 MXN</span></div>
        <div class="flex justify-between text-sm text-gray-600 mt-1"><span>Envío</span><span id="shipping">$30.00 MXN</span></div>
        <div class="flex justify-between text-lg font-semibold mt-3"><span>Total</span><span id="total">$215.00 MXN</span></div>
      </div>

    </section>

    <!-- Right: Checkout / Payment -->
    <aside id="checkout" class="bg-white p-6 rounded-lg shadow-sm">
      <h2 class="text-xl font-semibold mb-3">Selecciona tu método de pago</h2>

      <div class="space-y-3">
        <!-- Payment Methods Grid (like Mercado Libre) -->
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
          <!-- Tarjeta (Crédito/Débito) -->
          <button class="payment-method border rounded-lg p-3 text-left hover:shadow-inner" data-method="card" onclick="selectMethod(event)">
            <div class="flex items-center justify-between">
              <div>
                <div class="font-medium">Tarjeta de crédito / débito</div>
                <div class="text-sm text-gray-500">Aceptamos Visa, Mastercard, Amex</div>
              </div>
              <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M3 6h18M3 14h18M3 18h18"/></svg>
            </div>
          </button>

          <!-- Pago en efectivo (Contra entrega, Efectivo en tienda) -->
          <button class="payment-method border rounded-lg p-3 text-left hover:shadow-inner" data-method="cash" onclick="selectMethod(event)">
            <div class="flex items-center justify-between">
              <div>
                <div class="font-medium">Efectivo</div>
                <div class="text-sm text-gray-500">Pago en entrega o en sucursal (contrareembolso / en tienda)</div>
              </div>
              <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2 .9 2 2-.9 2-2 2"/></svg>
            </div>
          </button>

          <!-- Transferencia bancaria (SPEI/Interbancaria) -->
          <button class="payment-method border rounded-lg p-3 text-left hover:shadow-inner" data-method="transfer" onclick="selectMethod(event)">
            <div class="flex items-center justify-between">
              <div>
                <div class="font-medium">Transferencia bancaria (SPEI)</div>
                <div class="text-sm text-gray-500">Recibe datos bancarios para realizar la transferencia</div>
              </div>
              <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M3 6h18M3 14h18M3 18h18"/></svg>
            </div>
          </button>

          <!-- OXXO / Tienda de conveniencia -->
          <button class="payment-method border rounded-lg p-3 text-left hover:shadow-inner" data-method="oxxo" onclick="selectMethod(event)">
            <div class="flex items-center justify-between">
              <div>
                <div class="font-medium">Pago en OXXO / tiendas</div>
                <div class="text-sm text-gray-500">Genera un cupón y págalo en tienda cercana</div>
              </div>
              <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.1 0-2 .9-2 2s.9 2 2 2 2 .9 2 2-.9 2-2 2"/></svg>
            </div>
          </button>

          <!-- Pago con monedero: PayPal / Mercado Pago -->
          <button class="payment-method border rounded-lg p-3 text-left hover:shadow-inner" data-method="wallet" onclick="selectMethod(event)">
            <div class="flex items-center justify-between">
              <div>
                <div class="font-medium">Monedero digital (PayPal / Mercado Pago)</div>
                <div class="text-sm text-gray-500">Paga rápido con tu cuenta</div>
              </div>
              <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M3 6h18M3 14h18M3 18h18"/></svg>
            </div>
          </button>

          <!-- Pago en mensualidades (simulación) -->
          <button class="payment-method border rounded-lg p-3 text-left hover:shadow-inner" data-method="installments" onclick="selectMethod(event)">
            <div class="flex items-center justify-between">
              <div>
                <div class="font-medium">Pagos a meses (tarjeta)</div>
                <div class="text-sm text-gray-500">Divide tu pago hasta 12 meses (según banco)</div>
              </div>
              <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M3 6h18M3 14h18M3 18h18"/></svg>
            </div>
          </button>

         <!-- Pago en cajero automático -->
<button class="payment-method border rounded-lg p-3 text-left hover:shadow-inner"
        data-method="atm"
        onclick="selectMethod(event)">
  <div class="flex items-center justify-between">
    <div>
      <div class="font-medium">Pago en cajero automático</div>
      <div class="text-sm text-gray-500">Genera datos para depósito y sube comprobante</div>
    </div>
    <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M3 10h18M3 6h18M3 14h18M3 18h18"/>
    </svg>
  </div>
</button>

<!-- Pago con cheque electrónico -->
<button class="payment-method border rounded-lg p-3 text-left hover:shadow-inner"
        data-method="echeck"
        onclick="selectMethod(event)">
  <div class="flex items-center justify-between">
    <div>
      <div class="font-medium">Cheque electrónico</div>
      <div class="text-sm text-gray-500">Paga usando un cheque digital validado</div>
    </div>
    <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M3 10h18M3 6h18M3 14h18M3 18h18"/>
    </svg>
  </div>
</button>






        </div>

        <!-- Dynamic area where payment forms appear -->
        <div id="method-form" class="mt-4"></div>

        <div class="mt-4">
          <button id="payBtn" class="w-full bg-rose-600 hover:bg-rose-700 text-white py-3 rounded-lg font-semibold" onclick="processPayment()">Pagar $<span id="payAmount">215.00</span> MXN</button>
        </div>

      </div>
    </aside>
  </main>

  <!-- Footer -->
  <footer class="bg-white mt-12 py-6">
    <div class="max-w-6xl mx-auto px-4 text-sm text-gray-500">© Honey Pop - Todos los derechos reservados</div>
  </footer>

  <template id="card-template">
    <div class="space-y-3">
      <div>
        <label class="block text-sm text-gray-700">Nombre en la tarjeta</label>
        <input type="text" id="card-name" class="w-full border rounded px-3 py-2 mt-1" placeholder="Nombre tal como aparece" />
      </div>
      <div>
        <label class="block text-sm text-gray-700">Número de tarjeta</label>
        <input type="text" id="card-number" class="w-full border rounded px-3 py-2 mt-1" placeholder="1234 5678 9012 3456" maxlength="19" />
      </div>
      <div class="flex gap-3">
        <div class="flex-1">
          <label class="block text-sm text-gray-700">Expiración</label>
          <input type="text" id="card-exp" class="w-full border rounded px-3 py-2 mt-1" placeholder="MM/AA" maxlength="5" />
        </div>
        <div class="w-28">
          <label class="block text-sm text-gray-700">CVV</label>
          <input type="text" id="card-cvv" class="w-full border rounded px-3 py-2 mt-1" placeholder="123" maxlength="4" />
        </div>
      </div>
      <div>
        <label class="block text-sm text-gray-700">Tipo de tarjeta</label>
        <select id="card-type" class="w-full border rounded px-3 py-2 mt-1">
          <option value="visa">Visa</option>
          <option value="mastercard">Mastercard</option>
          <option value="amex">American Express</option>
          <option value="other">Otra</option>
        </select>
      </div>
    </div>
  </template>

  <template id="cash-template">
    <div>
      <p class="text-sm text-gray-600">Seleccionaste pagar en efectivo. Puedes pagar al recibir tu pedido (si esta opción está disponible) o en sucursal.</p>
      <label class="mt-2 block text-sm text-gray-700">¿En dónde pagarás?</label>
      <select id="cash-place" class="w-full border rounded px-3 py-2 mt-1">
        <option value="home">Al recibir (contra entrega)</option>
        <option value="store">En sucursal Honey Pop</option>
      </select>
    </div>
  </template>

  <template id="transfer-template">
    <div class="space-y-2">
      <p class="text-sm text-gray-600">Al elegir transferencia recibirás los datos bancarios (CLABE / cuenta) para realizar el pago. El pedido se confirmará cuando se reciba el comprobante.</p>
      <div class="bg-gray-50 p-3 rounded">
        <div class="text-xs text-gray-500">Banco: Banco Demo</div>
        <div class="text-sm font-mono mt-1">CLABE: 012345678901234567</div>
        <div class="text-sm font-mono">Cuenta: 1234567890</div>
      </div>
      <label class="block text-sm text-gray-700">Subir comprobante (simulado)</label>
      <input type="file" id="transfer-proof" class="w-full" />
    </div>
  </template>

  <template id="oxxo-template">
    <div class="space-y-2">
      <p class="text-sm text-gray-600">Genera un cupón y págalo en cualquier tienda OXXO. Conserva tu recibo para canjear.</p>
      <div class="bg-yellow-50 p-3 rounded">
        <div class="text-sm">Código de pago:</div>
        <div id="oxxo-code" class="text-lg font-semibold mt-1">OP-<span class="font-mono">987654321</span></div>
        <div class="text-xs text-gray-500 mt-1">Válido 24 horas</div>
      </div>
    </div>
  </template>

  <template id="wallet-template">
    <div>
      <p class="text-sm text-gray-600">Serás redirigido al monedero digital seleccionado (simulación).</p>
      <div class="mt-2 grid grid-cols-2 gap-2">
        <button onclick="simulateWallet('paypal')" class="border rounded p-2 text-sm">PayPal</button>
        <button onclick="simulateWallet('mercadopago')" class="border rounded p-2 text-sm">Mercado Pago</button>
      </div>
    </div>
  </template>

  <template id="installments-template">
    <div class="space-y-2">
      <p class="text-sm text-gray-600">Selecciona la cantidad de meses. (Simulación de cuotas con interés fijo)</p>
      <div class="flex gap-2 items-center">
        <select id="installments-count" class="w-28 border rounded px-3 py-2">
          <option value="1">1</option>
          <option value="3">3</option>
          <option value="6">6</option>
          <option value="12">12</option>
        </select>
        <div id="installment-info" class="text-sm text-gray-600">Pago mensual: --</div>
      </div>
    </div>
  </template>

<template id="atm-template">
  <div class="space-y-2">
    <p class="text-sm text-gray-600">
      Genera un código para pagar en el cajero automático. Lleva este código y realízalo como "Pago de servicios".
    </p>

    <div class="bg-blue-50 p-3 rounded">
      <div class="text-sm">Código para pago en cajero:</div>
      <div id="atm-code" class="text-lg font-semibold mt-1">
        ATM-<span class="font-mono">123456789</span>
      </div>
      <div class="text-xs text-gray-500 mt-1">Válido por 24 horas</div>
    </div>

    <!-- ⭐⭐ AQUI ESTA TU BOTÓN QUE REDIRIGE ⭐⭐ -->
    <a href="pagocajero.html"
       class="block bg-rose-600 text-white text-center py-2 rounded-lg font-semibold hover:bg-rose-700 mt-3">
      Subir comprobante de cajero
    </a>
  </div>
</template>

<template id="echeck-template">
  <div class="space-y-3">
    <p class="text-sm text-gray-600">
      Completa los datos del cheque electrónico. Esta operación es simulada.
    </p>

    <div>
      <label class="block text-sm text-gray-700">Número de cheque</label>
      <input type="text" id="echeck-number" class="w-full border rounded px-3 py-2 mt-1"
             placeholder="0001234567" maxlength="12">
    </div>

    <div>
      <label class="block text-sm text-gray-700">Banco emisor</label>
      <input type="text" id="echeck-bank" class="w-full border rounded px-3 py-2 mt-1"
             placeholder="Nombre del banco">
    </div>

    <div>
      <label class="block text-sm text-gray-700">Subir cheque (PDF o imagen)</label>
      <input type="file" id="echeck-file" class="w-full mt-1" accept=".pdf,.jpg,.jpeg,.png">
    </div>

  </div>
</template>





  <script>
    // Simple simulation logic (no real payments)
    const subtotalEl = document.getElementById('subtotal');
    const shippingEl = document.getElementById('shipping');
    const totalEl = document.getElementById('total');
    const payAmountEl = document.getElementById('payAmount');

    function formatMXN(n){
      return n.toFixed(2);
    }

    function removeItem(btn){
      const item = btn.closest('[data-id]');
      btn.closest('.bg-white').remove();
      // For demo we won't recalc deep; user can use updateTotals()
      updateTotals();
    }

    function updateTotals(){
      // Very simple calc based on hardcoded values used above
      const subtotal = 185.00;
      const shipping = 30.00;
      const total = subtotal + shipping;
      subtotalEl.textContent = `$${formatMXN(subtotal)} MXN`;
      shippingEl.textContent = `$${formatMXN(shipping)} MXN`;
      totalEl.textContent = `$${formatMXN(total)} MXN`;
      payAmountEl.textContent = `${formatMXN(total)}`;
    }

    updateTotals();

    let selectedMethod = null;

    function deselectAll(){
      document.querySelectorAll('.payment-method').forEach(el => el.classList.remove('ring','ring-2','ring-rose-200','bg-rose-50'));
    }

    function selectMethod(e){
      const btn = e.currentTarget || e.target.closest('.payment-method');
      deselectAll();
      btn.classList.add('ring','ring-2','ring-rose-200','bg-rose-50');
      selectedMethod = btn.dataset.method;
      renderMethodForm(selectedMethod);
    }

    function renderMethodForm(method){
      const target = document.getElementById('method-form');
      target.innerHTML = '';
      if(!method) return;
      const tpl = document.getElementById(method + '-template') || document.getElementById(method + '-template');
      // Fallback mapping
     const map = {
  'card':'card-template',
  'cash':'cash-template',
  'transfer':'transfer-template',
  'oxxo':'oxxo-template',
  'wallet':'wallet-template',
  'installments':'installments-template',
  'atm':'atm-template',
  'echeck':'echeck-template'   
};

      const id = map[method];
      if(!id) return;
      const node = document.getElementById(id).content.cloneNode(true);
      // special: if installments, attach change listener
      target.appendChild(node);
      if(method === 'installments'){
        const sel = document.getElementById('installments-count');
        sel.addEventListener('change', () => updateInstallmentInfo());
        updateInstallmentInfo();
      }
      if(method === 'oxxo'){
        // generate code
        document.getElementById('oxxo-code').querySelector('span').textContent = Math.floor(Math.random()*900000000+100000000);
      }
    }

    function updateInstallmentInfo(){
      const months = parseInt(document.getElementById('installments-count').value || '1');
      const total = 215.00; // from above
      const interestRate = months > 1 ? 0.015 : 0; // 1.5% monthly simulated
      const monthly = (total * Math.pow(1+interestRate, months)) / months;
      document.getElementById('installment-info').textContent = `Pago mensual aprox. $${formatMXN(monthly)} MXN`;
    }

    function simulateWallet(name){
      alert('Simulación: redirigiendo a ' + name + '... (esto es una demo)');
    }

    function processPayment(){
      if(!selectedMethod){
        alert('Selecciona un método de pago antes de continuar.');
        return;
      }

      // For simulation, gather minimal info and show summary modal
      const total = payAmountEl.textContent;
      let summary = `Método: ${selectedMethod}\nTotal: $${total} MXN\n\n`;

      switch(selectedMethod){
        case 'card':
          const name = document.getElementById('card-name')?.value || '(sin nombre)';
          const card = document.getElementById('card-number')?.value || '****';
          summary += `Tarjeta: ${card}\nTitular: ${name}`;
          break;
        case 'cash':
          const where = document.getElementById('cash-place')?.value || 'home';
          summary += `Opción: ${where === 'home'? 'Pago al recibir' : 'Pago en sucursal'}`;
          break;
        case 'transfer':
          const proof = document.getElementById('transfer-proof')?.files?.length ? 'Comprobante subido' : 'Sin comprobante';
          summary += `${proof}`;
          break;
        case 'oxxo':
          const code = document.getElementById('oxxo-code')?.textContent || '---';
          summary += `Código: ${code}`;
          break;
        case 'wallet':
          summary += `Serás redirigido al monedero.`;
          break;
        case 'installments':
          const months = document.getElementById('installments-count')?.value || '1';
          summary += `Meses: ${months}`;
          break;
      }

    // Show modal like confirmation
if (confirm('Confirmar pago?\n\n' + summary)) {

  // Cambiar texto a Procesando...
  const btn = document.getElementById('payBtn');
  btn.textContent = 'Procesando...';

  setTimeout(() => {

    // Generar resultado aleatorio: true = éxito, false = fallo
    const pagoExitoso = Math.random() < 0.5;

    if (pagoExitoso) {
      // Pago exitoso
      alert("Pago realizado (simulado). ¡Gracias por tu compra!");
      window.location.href = 'pagoexitoso.html';
    } else {
      // Pago fallido
      alert("Pago fallido. Por favor intenta nuevamente.");
      window.location.href = 'pagofallido.html';
    }

  }, 1200); // tiempo de simulación
}


    }

    // Preselect card method to show form on load
    document.querySelector('.payment-method[data-method="card"]').click();

  </script>

  
  <footer class="bg-gray-800 text-white py-4 px-2 mt-6">
    <div class="flex flex-col justify-center items-center gap-2">
      <a href="#" class="hover:scale-105 transition duration-300">
        <img src="/honeypop.webp" alt="Honey Pop Logo" class="w-16 h-16 object-contain">
      </a>
      <p class="text-xs text-gray-300 max-w-xs text-center leading-tight">
        En Honey Pop creemos que cada bocado debe ser un momento feliz.
        ¡Gracias por endulzar tu día con nosotros!
      </p>

      <div class="flex gap-3 text-xs text-pink-300 mt-2">

        <button onclick="openModal('avisoModal')" class="hover:underline hover:text-pink-400 transition">
          Aviso de privacidad
        </button>
        <span>|</span>

        <button onclick="openModal('terminosModal')" class="hover:underline hover:text-pink-400 transition">
          Términos y condiciones
        </button>
        <span>|</span>

        <button onclick="openModal('politicaModal')" class="hover:underline hover:text-pink-400 transition">
          Políticas de compra y venta
        </button>
        <span>|</span>

        <button onclick="openModal('cumplimientoModal')" class="hover:underline hover:text-pink-400 transition">
          Cumplimiento legal
        </button>

      </div>


      <div class="mt-3 text-center text-xs text-gray-500 border-t border-gray-700 pt-2">
        © 2025 Honey Pop. Todos los derechos reservados.
      </div>


  </footer>


</body>

</html>
